<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>База данных сотрудников</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
    <link rel="stylesheet" href="assets/css/style.css">    
    <script defer src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2" crossorigin="anonymous"></script>
    <script defer src="assets/js/script.js"></script>
</head>
<body>
    <h1 class="text-center my-5">База данных сотрудников</h1>
    <div class="container-fluid">
    	<button type="button" class="btn btn-primary mb-3 mb-lg-5" data-bs-toggle="modal" data-bs-target="#show-info">Техническое задание</button>
    </div>
    <div class="container-fluid">        
        <div class="row">   
            <div class="col-lg-2 col-md-12 mb-5">
                <button type="button" class="btn btn-primary mb-3 mb-lg-5" data-bs-toggle="modal" data-bs-target="#addWorker">Добавить сотрудника</button>                
                <form class="filters-form">
                    <input class="form-control field-name mb-3" type="text" name="name" placeholder="ФИО">
                    <input class="form-control field-dept mb-3" type="text" name="dept" placeholder="Отдел">
                    <input class="form-control field-star-working mb-3" type="number" name="star-working" placeholder="Год начала контракта">
                    <input class="form-control field-ending-working mb-3" type="number" name="ending-working" placeholder="Год окончания контракта">
                    <button type="submit" class="btn btn-primary">Применить фильтры</button>
                </form>
            </div>
            <div class="col-lg-10 col-md-12 table-responsive">
                <table class="table table-bordered">
                    <thead class="table-dark text-center">
                        <tr>
                            <th class="sort" data-sort-name="fio">
                                <span class="text-warning">ФИО</span>
                                <span class="badge badge-warning"></span>
                            </th>
                            <th class="sort" data-sort-name="dept">
                                <span class="text-warning">Отдел</span>
                                <span class="badge badge-warning"></span>
                            </th>
                            <th class="sort" data-sort-name="birthDate">
                                <span class="text-warning">ДР и возраст</span>
                                <span class="badge badge-warning"></span>
                            </th>
                            <th class="sort" data-sort-name="starworking">
                                <span class="text-warning">Года работы и стаж</span>
                                <span class="badge badge-warning"></span>
                            </th>
                        </tr>
                    </thead>
                    <tbody class="employee-list"></tbody>
                </table>
            </div>
        </div>
    </div>
    <div class="modal" id="addWorker" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Добавить сотрудника</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form class="add-form">
                        <div class="form-group add-form-field-group">
                            <small class="form-text text-danger error-msg"></small>
                            <input class="form-control" type="text" name="surname" placeholder="Фамилия">
                        </div>
                        <div class="form-group add-form-field-group">
                            <small class="form-text text-danger error-msg"></small>
                            <input class="form-control" type="text" name="name" placeholder="Имя">
                        </div>
                        <div class="form-group add-form-field-group">
                            <small class="form-text text-danger error-msg"></small>
                            <input class="form-control" type="text" name="patronymic" placeholder="Отчество">
                        </div>
                        <div class="form-group add-form-field-group">
                            <small class="form-text text-danger error-msg"></small>
                            <input class="form-control" type="text" name="dept" placeholder="Отдел">
                        </div>
                        <div class="form-group add-form-field-group">
                            <small class="form-text text-danger error-msg"></small>
                            <input class="form-control" type="date" name="birth-date" min="1900-01-01" placeholder="Дата рождения">
                        </div>
                        <div class="form-group add-form-field-group">
                            <small class="form-text text-danger error-msg"></small>
                            <input class="form-control" type="number" name="star-working" placeholder="Год начала трудовой деятельности">
                        </div>
                        <button type="submit" class="btn btn-primary mt-3">Добавить</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <div class="modal" id="show-info" tabindex="-1">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">ТЗ</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">                    
			 	    <p>Создать панель управления сотрудниками, на которой будут располагаться:</p>
					<ul>
						<li>таблица с сотрудниками с фильтрами и сортировкой</li>
						<li>форма добавления нового сотрудника</li>
					</ul>
				    <p>Для добавления сотрудника на странице должна выводиться форма с полями, соответствующими данным сотрудника. Форма должна проходить валидацию по следующим правилам:</p>
				    <ul>
					    <li>все поля обязательны для заполнения после применения к значению метода trim()</li>
						<li>дата рождения находится в диапазоне от 01.01.1900 до текущей даты</li>
						<li>год начала трудовой деятельности находится в диапазоне от 2000-го до текущего года</li>
				    </ul>
				    <p>Валидация должна происходить после нажатия на кнопку "Добавить сотрудника", расположенную под полями для ввода. Если валидация прошла успешно, то все поля очищаются, а новый сотрудник добавляется в таблицу. В противном случае над неверно заполненными полями нужно вывести сообщения с описанием ошибок для пользователя. Тексты сообщений должны дать достаточно информации, чтобы понять какие ошибки были допущены.</p>
					<p>Данные из массива должны выводиться в табличном виде. Каждая строка таблицы содержит информацию об одном сотруднике. Колонки таблицы:</p>
					<ul>
						<li>ФИО сотрудника</li>
						<li>Отдел</li>
						<li>Дата рождения и возраст в формате "31.12.2000 (20 лет)". Возраст должен быть вычислен из даты рождения.</li>
						<li>Года работы и стаж. Считается, что все сотрудники подписывают трудовой договор на 4 года, то есть диапазон с годами работы выводится как {год начала контракта}-{+4 года}. Если сентябрь года окончания контракта уже прошёл, в скобках вместо указания года нужно должно выводиться "закончил".</li>
						</ul>
					<p>Первая строка таблицы - заголовочная, в ней указываются заголовки колонок (ФИО, Отдел, ДР и возраст, Года работы). При нажатии на ячейку заголовочной строки должна происходить сортировка по соответствующим полям сотрудников:</p>
					<ul>
						<li>ФИО сортирует по соединённой строке из фамилии, имени и отчества по алфавиту по возрастанию</li>
						<li>Отдел - по названию отдела по алфавиту по возрастанию</li>
						<li>ДР и возраст - по дате рождения по возрастанию</li>
						<li>Года работы - по году начала трудовой деятельности</li>
					</ul>
					<p>Перед таблицей также нужно вывести фильтры, состоящие из полей:</p>
					<ul>
						<li>ФИО для поиска подстроки в фамилии, имени или отчестве</li>
						<li>Отдел для поиска подстроки в названии отдела</li>
						<li>Год начала контракта (точное совпадение)</li>
						<li>Год окончания контракта (точное совпадение)</li>
					</ul>
					<p>При любых изменениях в полях для фильтрации содержимое таблицы должно измениться в соответствии с указанными фильтрами. Если указано несколько фильтров, то все они применяются к массиву сотрудников по очереди.</p>                   
                </div>
            </div>
        </div>
    </div>
</body>
</html>